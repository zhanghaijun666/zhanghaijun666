import{_ as l,C as A,c as p,o as r,j as a,G as i,a5 as e,a as n}from"./chunks/framework.CBqkjkG0.js";const F=JSON.parse('{"title":"认证授权","description":"","frontmatter":{},"headers":[],"relativePath":"31_后端Java/21_Spring全家桶/23.SpringBoot--Security.md","filePath":"31_后端Java/21_Spring全家桶/23.SpringBoot--Security.md","lastUpdated":1739184584000}'),h={name:"31_后端Java/21_Spring全家桶/23.SpringBoot--Security.md"};function B(k,s,c,o,d,D){const t=A("ArticleMetadata"),E=A("Mermaid");return r(),p("div",null,[s[0]||(s[0]=a("h1",{id:"认证授权",tabindex:"-1"},[n("认证授权 "),a("a",{class:"header-anchor",href:"#认证授权","aria-label":'Permalink to "认证授权"'},"​")],-1)),i(t),s[1]||(s[1]=e('<h2 id="目的" tabindex="-1">目的 <a class="header-anchor" href="#目的" aria-label="Permalink to &quot;目的&quot;">​</a></h2><ul><li>1、支持系统账密登录。</li><li>2、支持邮箱登录。</li><li>3、支持短信登录。</li><li>4、支持微信登录（OpenId）。</li><li>5、支持企业微信登录。</li><li>6、支持Github、Gitee登录。</li><li>7、支持第三方授权登录。</li></ul><h2 id="相关地址" tabindex="-1">相关地址 <a class="header-anchor" href="#相关地址" aria-label="Permalink to &quot;相关地址&quot;">​</a></h2><ul><li><a href="https://github.com/spring-projects/spring-security/wiki" target="_blank" rel="noreferrer">Spring官方文档 Spring Authorization Server</a></li><li><a href="https://springdoc.cn/spring-authorization-server/" target="_blank" rel="noreferrer">Spring中文文档 spring-authorization-server</a></li></ul><h2 id="认证流程" tabindex="-1">认证流程 <a class="header-anchor" href="#认证流程" aria-label="Permalink to &quot;认证流程&quot;">​</a></h2>',5)),i(E,{id:"mermaid-61",code:"sequenceDiagram%0A%20%20%20%20participant%20%E5%AE%A2%E6%88%B7%E7%AB%AF%0A%20%20%20%20participant%20%E8%B5%84%E6%BA%90%E6%9C%8D%E5%8A%A1%E5%99%A8%0A%20%20%20%20participant%20%E6%8E%88%E6%9D%83%E6%9C%8D%E5%8A%A1%E5%99%A8%0A%20%20%20%20%E5%AE%A2%E6%88%B7%E7%AB%AF%20-%3E%3E%20%E8%B5%84%E6%BA%90%E6%9C%8D%E5%8A%A1%E5%99%A8%3A%20%E8%BE%93%E5%85%A5%E7%BD%91%E5%9D%80%E8%AE%BF%E9%97%AE%E8%B5%84%E6%BA%90%0A%20%20%20%20%E8%B5%84%E6%BA%90%E6%9C%8D%E5%8A%A1%E5%99%A8%20--%3E%3E%20%E8%B5%84%E6%BA%90%E6%9C%8D%E5%8A%A1%E5%99%A8%3A%20%E9%AA%8C%E8%AF%81%E6%98%AF%E5%90%A6%E7%99%BB%E5%BD%95%0A%20%20%20%20opt%20%E7%99%BB%E5%BD%95%E6%B5%81%E7%A8%8B%0A%20%20%20%20%20%20%20%20%E8%B5%84%E6%BA%90%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%3E%3E%20%E6%8E%88%E6%9D%83%E6%9C%8D%E5%8A%A1%E5%99%A8%3A%20%E8%B7%B3%E8%BD%AC%E5%88%B0%E6%8E%88%E6%9D%83%E6%9C%8D%E5%8A%A1%E5%99%A8client_id%2Credirect_uri%2Cscope%0A%20%20%20%20%20%20%20%20%E6%8E%88%E6%9D%83%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%3E%3E%20%E5%AE%A2%E6%88%B7%E7%AB%AF%3A%20%E7%99%BB%E5%BD%95%E6%88%96%E8%80%85%E6%8E%88%E6%9D%83%0A%20%20%20%20%20%20%20%20%E5%AE%A2%E6%88%B7%E7%AB%AF%20-%3E%3E%20%E6%8E%88%E6%9D%83%E6%9C%8D%E5%8A%A1%E5%99%A8%3A%20%E8%BE%93%E5%85%A5%E7%94%A8%E6%88%B7%E5%90%8D%E5%AF%86%E7%A0%81%E6%88%96%E8%80%85%E5%90%8C%E6%84%8F%E6%8E%88%E6%9D%83%0A%20%20%20%20%20%20%20%20%E6%8E%88%E6%9D%83%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%3E%3E%20%E8%B5%84%E6%BA%90%E6%9C%8D%E5%8A%A1%E5%99%A8%3A%20%E8%BF%94%E5%9B%9E%E6%8E%88%E6%9D%83%E7%A0%81%EF%BC%8Credirect_uri%0A%20%20%20%20%20%20%20%20%E8%B5%84%E6%BA%90%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%3E%3E%20%E6%8E%88%E6%9D%83%E6%9C%8D%E5%8A%A1%E5%99%A8%3A%20%E6%90%BA%E5%B8%A6%E6%8E%88%E6%9D%83%E7%A0%81%E8%AF%B7%E6%B1%82token%0A%20%20%20%20%20%20%20%20%E6%8E%88%E6%9D%83%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%3E%3E%20%E8%B5%84%E6%BA%90%E6%9C%8D%E5%8A%A1%E5%99%A8%3A%20%E8%BF%94%E5%9B%9Etoken%0A%20%20%20%20%20%20%20%20%E8%B5%84%E6%BA%90%E6%9C%8D%E5%8A%A1%E5%99%A8%20--%3E%3E%20%E8%B5%84%E6%BA%90%E6%9C%8D%E5%8A%A1%E5%99%A8%3A%20%E9%AA%8C%E8%AF%81token%E9%80%9A%E8%BF%87%0A%20%20%20%20end%0A%20%20%20%20%E8%B5%84%E6%BA%90%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%3E%3E%20%E5%AE%A2%E6%88%B7%E7%AB%AF%3A%20%E8%BF%94%E5%9B%9E%E8%B5%84%E6%BA%90%0A"}),s[2]||(s[2]=a("hr",null,null,-1)),i(E,{id:"mermaid-63",code:"sequenceDiagram%0A%20%20%20%20participant%20%E7%94%A8%E6%88%B7%0A%20%20%20%20participant%20%E7%BD%91%E7%AB%99%0A%20%20%20%20participant%20%E7%BD%91%E5%85%B3%0A%20%20%20%20participant%20Oauth2%E8%AE%A4%E8%AF%81%E4%B8%AD%E5%BF%83%0A%20%20%20%20participant%20%E4%B8%9A%E5%8A%A1%E6%9C%8D%E5%8A%A1%0A%20%20%20%20%E7%94%A8%E6%88%B7%20-%3E%3E%20%E7%BD%91%E7%AB%99%3A%20%E8%BE%93%E5%85%A5%E7%BD%91%E5%9D%80%0A%20%20%20%20%E7%BD%91%E7%AB%99%20-%3E%3E%20%2B%20%E7%BD%91%E5%85%B3%3A%20%E8%B7%B3%E8%BD%AC%E5%88%B0%E7%BD%91%E5%85%B3%0A%20%20%20%20opt%20%E7%99%BB%E5%BD%95%E8%AE%A4%E8%AF%81%0A%20%20%20%20%20%20%20%20%E7%BD%91%E5%85%B3%20--%3E%3E%20%E7%BD%91%E5%85%B3%3A%20%E6%A0%A1%E9%AA%8C%E6%98%AF%E5%90%A6%E7%99%BB%E5%BD%95%E4%B8%8E%E9%89%B4%E6%9D%83%0A%20%20%20%20%20%20%20%20%E7%BD%91%E5%85%B3%20-%3E%3E%20%2B%20Oauth2%E8%AE%A4%E8%AF%81%E4%B8%AD%E5%BF%83%3A%20%E7%BD%91%E5%85%B3%E5%8F%91%E7%8E%B0%E6%9C%AA%E8%AE%A4%E8%AF%81%EF%BC%8C%E8%B7%B3%E8%BD%AC%E5%88%B0%E8%AE%A4%E8%AF%81%E4%B8%AD%E5%BF%83%0A%20%20%20%20%20%20%20%20Oauth2%E8%AE%A4%E8%AF%81%E4%B8%AD%E5%BF%83%20-%3E%3E%20%E7%94%A8%E6%88%B7%3A%20%E8%BF%94%E5%9B%9E%E7%94%A8%E6%88%B7%E6%8E%88%E6%9D%83%E7%99%BB%E5%BD%95%E7%95%8C%E9%9D%A2%0A%20%20%20%20%20%20%20%20%E7%94%A8%E6%88%B7%20-%3E%3E%20Oauth2%E8%AE%A4%E8%AF%81%E4%B8%AD%E5%BF%83%3A%20%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95%0A%20%20%20%20%20%20%20%20Oauth2%E8%AE%A4%E8%AF%81%E4%B8%AD%E5%BF%83%20-%3E%3E%20-%20%E7%BD%91%E5%85%B3%3A%20%E8%BF%94%E5%9B%9E%E6%8E%88%E6%9D%83%E7%A0%81code%0A%20%20%20%20%20%20%20%20%E7%BD%91%E5%85%B3%20-%3E%3E%20%E7%BD%91%E7%AB%99%3A%20%E5%AE%9A%E5%90%91%E5%88%B0%E4%B8%9A%E5%8A%A1%E6%9C%8D%E5%8A%A1%0A%20%20%20%20%20%20%20%20%E7%BD%91%E7%AB%99%20-%3E%3E%20%E7%BD%91%E5%85%B3%3A%20%E6%90%BA%E5%B8%A6token%E6%AD%A3%E5%B8%B8%E8%B0%83%E7%94%A8%E6%8E%A5%E5%8F%A3%0A%20%20%20%20end%0A%20%20%20%20%E7%BD%91%E5%85%B3%20--%3E%3E%20-%20%E7%BD%91%E5%85%B3%3A%20%E6%A0%A1%E9%AA%8Ctoken%E4%B8%8E%E9%89%B4%E6%9D%83%0A%20%20%20%20%E7%BD%91%E5%85%B3%20-%3E%3E%20%E4%B8%9A%E5%8A%A1%E6%9C%8D%E5%8A%A1%3A%20%E8%BD%AC%E5%8F%91%E5%88%B0%E4%B8%9A%E5%8A%A1%E6%9C%8D%E5%8A%A1%0A%20%20%20%20%E4%B8%9A%E5%8A%A1%E6%9C%8D%E5%8A%A1%20-%3E%3E%20%E7%BD%91%E7%AB%99%3A%20%E8%BF%94%E5%9B%9E%E7%9B%B8%E5%BA%94%E8%B5%84%E6%BA%90%0A"}),s[3]||(s[3]=a("h2",{id:"授权模式",tabindex:"-1"},[n("授权模式 "),a("a",{class:"header-anchor",href:"#授权模式","aria-label":'Permalink to "授权模式"'},"​")],-1)),s[4]||(s[4]=a("h3",{id:"授权码模式",tabindex:"-1"},[n("授权码模式 "),a("a",{class:"header-anchor",href:"#授权码模式","aria-label":'Permalink to "授权码模式"'},"​")],-1)),i(E,{id:"mermaid-70",code:"sequenceDiagram%0A%20%20%20%20participant%20%E5%AE%A2%E6%88%B7%E7%AB%AF%0A%20%20%20%20participant%20%E6%8E%88%E6%9D%83%E6%9C%8D%E5%8A%A1%E5%99%A8%0A%20%20%20%20participant%20%E8%B5%84%E6%BA%90%E6%9C%8D%E5%8A%A1%E5%99%A8%0A%20%20%20%20%E5%AE%A2%E6%88%B7%E7%AB%AF%20-%3E%3E%20%E6%8E%88%E6%9D%83%E6%9C%8D%E5%8A%A1%E5%99%A8%3A%20%E8%AF%B7%E6%B1%82%E6%8E%88%E6%9D%83%E7%A0%81%0A%20%20%20%20%E6%8E%88%E6%9D%83%E6%9C%8D%E5%8A%A1%E5%99%A8%20--%3E%3E%20%E5%AE%A2%E6%88%B7%E7%AB%AF%3A%20%E5%BC%B9%E5%87%BA%E7%99%BB%E5%BD%95%E7%95%8C%E9%9D%A2%0A%20%20%20%20%E5%AE%A2%E6%88%B7%E7%AB%AF%20-%3E%3E%20%E6%8E%88%E6%9D%83%E6%9C%8D%E5%8A%A1%E5%99%A8%3A%20%E8%BE%93%E5%85%A5%E7%94%A8%E6%88%B7%E5%90%8D%E5%AF%86%E7%A0%81%0A%20%20%20%20%E6%8E%88%E6%9D%83%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%3E%3E%20%E6%8E%88%E6%9D%83%E6%9C%8D%E5%8A%A1%E5%99%A8%3A%20%E9%AA%8C%E8%AF%81%E6%8E%88%E6%9D%83%E7%A0%81%EF%BC%8C%E5%AE%A2%E6%88%B7%E7%AB%AF%0A%20%20%20%20%E6%8E%88%E6%9D%83%E6%9C%8D%E5%8A%A1%E5%99%A8%20--%3E%3E%20%E5%AE%A2%E6%88%B7%E7%AB%AF%3A%20%E8%BF%94%E5%9B%9Etoken%2Crefresh_token%0A%20%20%20%20%E5%AE%A2%E6%88%B7%E7%AB%AF%20-%3E%3E%20%E8%B5%84%E6%BA%90%E6%9C%8D%E5%8A%A1%E5%99%A8%3A%20%E6%90%BA%E5%B8%A6token%E8%AF%B7%E6%B1%82%E8%B5%84%E6%BA%90%0A%20%20%20%20%E8%B5%84%E6%BA%90%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%3E%3E%20%E6%8E%88%E6%9D%83%E6%9C%8D%E5%8A%A1%E5%99%A8%3A%20%E9%AA%8C%E8%AF%81token%0A%20%20%20%20%E6%8E%88%E6%9D%83%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%3E%3E%20%E6%8E%88%E6%9D%83%E6%9C%8D%E5%8A%A1%E5%99%A8%3A%20%E9%AA%8C%E8%AF%81token%E6%9C%89%E6%95%88%E6%80%A7%0A%20%20%20%20%E6%8E%88%E6%9D%83%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%3E%3E%20%E8%B5%84%E6%BA%90%E6%9C%8D%E5%8A%A1%E5%99%A8%3A%20%E9%80%9A%E8%BF%87%E9%AA%8C%E8%AF%81%EF%BC%8C%E8%BF%94%E5%9B%9E%E8%B5%84%E6%BA%90%0A%20%20%20%20%E8%B5%84%E6%BA%90%E6%9C%8D%E5%8A%A1%E5%99%A8%20--%3E%3E%20%E5%AE%A2%E6%88%B7%E7%AB%AF%3A%20%E8%BF%94%E5%9B%9E%E8%B5%84%E6%BA%90%0A"}),s[5]||(s[5]=a("h3",{id:"客户端凭证模式",tabindex:"-1"},[n("客户端凭证模式 "),a("a",{class:"header-anchor",href:"#客户端凭证模式","aria-label":'Permalink to "客户端凭证模式"'},"​")],-1)),i(E,{id:"mermaid-74",code:"sequenceDiagram%0A%20%20%20%20participant%20%E5%AE%A2%E6%88%B7%E7%AB%AF%0A%20%20%20%20participant%20%E6%8E%88%E6%9D%83%E6%9C%8D%E5%8A%A1%E5%99%A8%0A%20%20%20%20participant%20%E8%B5%84%E6%BA%90%E6%9C%8D%E5%8A%A1%E5%99%A8%0A%20%20%20%20%E5%AE%A2%E6%88%B7%E7%AB%AF%20-%3E%3E%20%E6%8E%88%E6%9D%83%E6%9C%8D%E5%8A%A1%E5%99%A8%3A%20%E5%8F%91%E9%80%81client_id%2Cclient_secret%0A%20%20%20%20%E6%8E%88%E6%9D%83%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%3E%3E%20%E5%AE%A2%E6%88%B7%E7%AB%AF%3A%20%E8%BF%94%E5%9B%9Etoken%0A%20%20%20%20%E5%AE%A2%E6%88%B7%E7%AB%AF%20-%3E%3E%20%E8%B5%84%E6%BA%90%E6%9C%8D%E5%8A%A1%E5%99%A8%3A%20%E6%90%BA%E5%B8%A6token%E8%AF%B7%E6%B1%82%E8%B5%84%E6%BA%90%0A%20%20%20%20%E8%B5%84%E6%BA%90%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%3E%3E%20%E6%8E%88%E6%9D%83%E6%9C%8D%E5%8A%A1%E5%99%A8%3A%20%E9%AA%8C%E8%AF%81token%0A%20%20%20%20%E6%8E%88%E6%9D%83%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%3E%3E%20%E6%8E%88%E6%9D%83%E6%9C%8D%E5%8A%A1%E5%99%A8%3A%20%E9%AA%8C%E8%AF%81token%E6%9C%89%E6%95%88%E6%80%A7%0A%20%20%20%20%E6%8E%88%E6%9D%83%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%3E%3E%20%E8%B5%84%E6%BA%90%E6%9C%8D%E5%8A%A1%E5%99%A8%3A%20%E9%80%9A%E8%BF%87%E9%AA%8C%E8%AF%81%0A%20%20%20%20%E8%B5%84%E6%BA%90%E6%9C%8D%E5%8A%A1%E5%99%A8%20--%3E%3E%20%E5%AE%A2%E6%88%B7%E7%AB%AF%3A%20%E8%BF%94%E5%9B%9E%E8%B5%84%E6%BA%90%0A"}),s[6]||(s[6]=a("h3",{id:"令牌刷新模式",tabindex:"-1"},[n("令牌刷新模式 "),a("a",{class:"header-anchor",href:"#令牌刷新模式","aria-label":'Permalink to "令牌刷新模式"'},"​")],-1)),i(E,{id:"mermaid-78",code:"sequenceDiagram%0A%20%20%20%20participant%20%E5%AE%A2%E6%88%B7%E7%AB%AF%0A%20%20%20%20participant%20%E6%8E%88%E6%9D%83%E6%9C%8D%E5%8A%A1%E5%99%A8%0A%20%20%20%20%E5%AE%A2%E6%88%B7%E7%AB%AF%20-%3E%3E%20%E6%8E%88%E6%9D%83%E6%9C%8D%E5%8A%A1%E5%99%A8%3A%20%E5%8F%91%E9%80%81refresh_token%0A%20%20%20%20%E6%8E%88%E6%9D%83%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%3E%3E%20%E5%AE%A2%E6%88%B7%E7%AB%AF%3A%20%E8%BF%94%E5%9B%9Etoken%0A"}),s[7]||(s[7]=a("h3",{id:"密码模式",tabindex:"-1"},[n("密码模式 "),a("a",{class:"header-anchor",href:"#密码模式","aria-label":'Permalink to "密码模式"'},"​")],-1)),i(E,{id:"mermaid-82",code:"sequenceDiagram%0A%20%20%20%20participant%20%E5%AE%A2%E6%88%B7%E7%AB%AF%0A%20%20%20%20participant%20%E6%8E%88%E6%9D%83%E6%9C%8D%E5%8A%A1%E5%99%A8%0A%20%20%20%20participant%20%E8%B5%84%E6%BA%90%E6%9C%8D%E5%8A%A1%E5%99%A8%0A%20%20%20%20%E5%AE%A2%E6%88%B7%E7%AB%AF%20-%3E%3E%20%E6%8E%88%E6%9D%83%E6%9C%8D%E5%8A%A1%E5%99%A8%3A%20%E5%8F%91%E9%80%81%E7%94%A8%E6%88%B7%E5%90%8D%E5%AF%86%E7%A0%81%0A%20%20%20%20%E6%8E%88%E6%9D%83%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%3E%3E%20%E5%AE%A2%E6%88%B7%E7%AB%AF%3A%20%E8%BF%94%E5%9B%9Etoken%0A%20%20%20%20%E5%AE%A2%E6%88%B7%E7%AB%AF%20-%3E%3E%20%E8%B5%84%E6%BA%90%E6%9C%8D%E5%8A%A1%E5%99%A8%3A%20%E6%90%BA%E5%B8%A6token%E8%AF%B7%E6%B1%82%E8%B5%84%E6%BA%90%0A%20%20%20%20%E8%B5%84%E6%BA%90%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%3E%3E%20%E6%8E%88%E6%9D%83%E6%9C%8D%E5%8A%A1%E5%99%A8%3A%20%E9%AA%8C%E8%AF%81token%0A%20%20%20%20%E6%8E%88%E6%9D%83%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%3E%3E%20%E6%8E%88%E6%9D%83%E6%9C%8D%E5%8A%A1%E5%99%A8%3A%20%E9%AA%8C%E8%AF%81token%E6%9C%89%E6%95%88%E6%80%A7%0A%20%20%20%20%E6%8E%88%E6%9D%83%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%3E%3E%20%E8%B5%84%E6%BA%90%E6%9C%8D%E5%8A%A1%E5%99%A8%3A%20%E9%80%9A%E8%BF%87%E9%AA%8C%E8%AF%81%0A%20%20%20%20%E8%B5%84%E6%BA%90%E6%9C%8D%E5%8A%A1%E5%99%A8%20--%3E%3E%20%E5%AE%A2%E6%88%B7%E7%AB%AF%3A%20%E8%BF%94%E5%9B%9E%E8%B5%84%E6%BA%90%0A"}),s[8]||(s[8]=e(`<h2 id="api调用" tabindex="-1">Api调用 <a class="header-anchor" href="#api调用" aria-label="Permalink to &quot;Api调用&quot;">​</a></h2><div class="language-http vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki shiki-themes one-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">###### 获取授权码</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># client_id 客户端ID</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># response_type 响应模式</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># scope 授权范围(不清楚可以百度一下)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># redirect_uri 回调地址,code会通过这个地址返回</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">GET</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> http://127.0.0.1:8084/oauth2/authorize?client_id=sas-client&amp;response_type=code&amp;scope=message.read+openid&amp;redirect_uri=http://127.0.0.1:8084/test</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Authorization</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Basic c2FzLWNsaWVudDpzYXMtc2VjcmV0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">### 使用授权码token</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># grant_type 授权模式</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># code 你的授权码</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># redirect_uri 回调地址,请求code时所传参数</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">POST</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> http://127.0.0.1:8084/oauth2/token</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Content-Type</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> application/x-www-form-urlencoded</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Authorization</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Basic c2FzLWNsaWVudDpzYXMtc2VjcmV0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">grant_type = authorization_code &amp;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">code = {</span><span style="--shiki-light:white;--shiki-dark:#FFFFFF;">code</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">} &amp;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">redirect_uri = http:</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//127.0.0.1:8084/test</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">###### 账号密码获取token</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># grant_type 授权模式</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># username 账号</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># password 密码</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># scope 授权范围(不清楚可以百度一下)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">POST</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> http://127.0.0.1:8084/oauth2/token</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Content-Type</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> application/x-www-form-urlencoded</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Authorization</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Basic c2FzLWNsaWVudDpzYXMtc2VjcmV0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">grant_type = password &amp;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">username = {</span><span style="--shiki-light:white;--shiki-dark:#FFFFFF;">username</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">} &amp;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">password = {</span><span style="--shiki-light:white;--shiki-dark:#FFFFFF;">password</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">###### 客户端获取token</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># grant_type 授权模式</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">POST</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> http://127.0.0.1:8084/oauth2/token</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Content-Type</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> application/x-www-form-urlencoded</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Authorization</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Basic c2FzLWNsaWVudDpzYXMtc2VjcmV0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">grant_type = client_credentials</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">###### 刷新token</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># grant_type 授权模式</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># refresh_token refresh_token</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">POST</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> http://127.0.0.1:8084/oauth2/token</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Content-Type</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> application/x-www-form-urlencoded</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Authorization</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Basic c2FzLWNsaWVudDpzYXMtc2VjcmV0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">grant_type = refresh_token &amp;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">refresh_token = {</span><span style="--shiki-light:white;--shiki-dark:#FFFFFF;">refresh_token</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br></div></div><h2 id="验证码" tabindex="-1">验证码 <a class="header-anchor" href="#验证码" aria-label="Permalink to &quot;验证码&quot;">​</a></h2><div class="language-java vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes one-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 验证码流程：生成 -&gt; 存储 -&gt; 发送 -&gt; 校验 -&gt; 删除</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 存储：</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 验证：</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 类型：</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div>`,4)),i(E,{id:"mermaid-91",code:"classDiagram%0A%20%20%20%20direction%20BT%0A%20%20%20%20class%20AbstractCaptchaRepository%20%7B%0A%20%20%20%20%20%20%20%20%2B%20AbstractCaptchaRepository(CaptchaValidateProperties)%0A%20%20%20%20%20%20%20%20%2B%20getCaptchaCacheKey(ServletWebRequest%2C%20CaptchaType)%20String%0A%20%20%20%20%7D%0A%20%20%20%20class%20CaptchaRepository%20%7B%0A%20%20%20%20%20%20%20%20%3C%3CInterface%3E%3E%0A%20%20%20%20%20%20%20%20%2B%20remove(ServletWebRequest%2C%20CaptchaType)%20void%0A%20%20%20%20%20%20%20%20%2B%20get(ServletWebRequest%2C%20CaptchaType)%20BasicCaptcha%0A%20%20%20%20%20%20%20%20%2B%20save(ServletWebRequest%2C%20BasicCaptcha)%20void%0A%20%20%20%20%7D%0A%20%20%20%20class%20RedisCaptchaRepository%20%7B%0A%20%20%20%20%20%20%20%20%2B%20RedisCaptchaRepository(RedisTemplate~Object%2C%20BasicCaptcha~%2C%20CaptchaValidateProperties)%0A%20%20%20%20%20%20%20%20%2B%20get(ServletWebRequest%2C%20CaptchaType)%20BasicCaptcha%0A%20%20%20%20%20%20%20%20%2B%20save(ServletWebRequest%2C%20BasicCaptcha)%20void%0A%20%20%20%20%20%20%20%20%2B%20remove(ServletWebRequest%2C%20CaptchaType)%20void%0A%20%20%20%20%7D%0A%20%20%20%20class%20SessionCaptchaRepository%20%7B%0A%20%20%20%20%20%20%20%20%2B%20SessionCaptchaRepository(CaptchaValidateProperties)%0A%20%20%20%20%20%20%20%20%2B%20remove(ServletWebRequest%2C%20CaptchaType)%20void%0A%20%20%20%20%20%20%20%20%2B%20save(ServletWebRequest%2C%20BasicCaptcha)%20void%0A%20%20%20%20%20%20%20%20%2B%20get(ServletWebRequest%2C%20CaptchaType)%20BasicCaptcha%0A%20%20%20%20%7D%0A%0A%20%20%20%20AbstractCaptchaRepository%20..%3E%20CaptchaRepository%0A%20%20%20%20RedisCaptchaRepository%20--%3E%20AbstractCaptchaRepository%0A%20%20%20%20SessionCaptchaRepository%20--%3E%20AbstractCaptchaRepository%0A%0A"})])}const b=l(h,[["render",B]]);export{F as __pageData,b as default};
